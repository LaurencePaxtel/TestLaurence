<form [formGroup]="form">
    <p-fluid>
        <div class="flex flex-col gap-4">
            <div class="flex flex-col gap-2 w-full">
                <p-select [options]="printDocumentTypes"
                          id="documentType"
                          formControlName="documentType"
                          (onChange)="onDocumentSelectionChange($event.value)"
                          optionLabel="value"
                          optionValue="value"
                          appendTo="body"
                          class="w-full"
                          placeholder="Selectionnez un type de document" />
            </div>

            @if(documentUrl) {
                <div class="w-full">
                    <p-scrollPanel
                        [style]="{ width: '100%', height: '60vh' }"
                        styleClass="document-scrollpanel">
                        <iframe
                            id="4DWriteIframe"
                            style="width: 21cm; margin: 0px auto; display: block !important;"
                            [src]="documentUrl"
                            width="100%"
                            height="100%">
                        </iframe>
                    </p-scrollPanel>
                </div>
            }
        </div>
    </p-fluid>

    <div class="flex justify-end gap-2 mt-5">
        <p-button label="Annuler" severity="secondary" (click)="cancel()" />
        <p-button label="Imprimer" severity="primary" (click)="print()"
                  icon="pi pi-download"
                  [disabled]="!form.valid" />
    </div>
</form>
