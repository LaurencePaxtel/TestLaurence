<!doctype html>
<html lang="en" data-beasties-container>
<head>
    <meta charset="utf-8">
    <title>PAXTEL</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://primefaces.org">
    <link rel="icon" type="image/x-icon" href="https://primefaces.org/cdn/primeng/images/favicon.png">
    <link href="https://fonts.cdnfonts.com/css/lato" rel="stylesheet">

    <style>
        /* Styles pour le loader */
        #initial-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #2563eb;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-family: 'Lato', sans-serif;
        }

        .loader-container {
            text-align: center;
            color: white;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        .loader-text {
            font-size: 24px;
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .loader-subtext {
            font-size: 14px;
            opacity: 0.8;
            font-weight: 300;
        }

        .loader-dots {
            display: inline-block;
            animation: dots 1.5s infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        /* Animation de disparition du loader */
        .fade-out {
            opacity: 0;
            transition: opacity 0.5s ease-out;
        }

        /* Masquer le contenu de l'app pendant le chargement */
        app-root {
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }

        app-root.loaded {
            opacity: 1;
        }
    </style>
<style>body{--p-button-warn-background:var(--p-yellow-500);--p-button-warn-hover-background:var(--p-yellow-600);--p-button-warn-active-background:var(--p-yellow-700);--p-button-warn-border-color:var(--p-yellow-500);--p-button-warn-hover-border-color:var(--p-yellow-600);--p-button-warn-active-border-color:var(--p-yellow-700);--p-button-warn-color:#ffffff;--p-button-warn-hover-color:#ffffff;--p-button-warn-active-color:#ffffff;--p-button-warn-focus-ring-color:transparent;--p-button-warn-focus-ring-shadow:0 0 0 .2rem;--p-button-success-background:var(--p-emerald-500);--p-button-success-hover-background:var(--p-emerald-600);--p-button-success-active-background:var(--p-emerald-700);--p-button-success-border-color:var(--p-emerald-500);--p-button-success-hover-border-color:var(--p-emerald-600);--p-button-success-active-border-color:var(--p-emerald-700);--p-button-success-color:#ffffff;--p-button-success-hover-color:#ffffff;--p-button-success-active-color:#ffffff;--p-button-success-focus-ring-color:transparent;--p-button-success-focus-ring-shadow:0 0 0 .2rem;--p-message-warn-color:var(--p-yellow-700);--p-message-warn-background:var(--p-yellow-100);--p-datatable-header-cell-background:var(--p-primary-color);--p-datatable-header-cell-color:white;--p-datatable-row-hover-background:var(--p-blue-100);--p-datatable-row-selected-background:var(--p-sky-100);--p-datatable-row-selected-color:var(--p-blue-600);--p-datatable-header-cell-hover-background:var(--p-blue-800);--p-datatable-header-cell-hover-color:white;--p-datatable-header-cell-selected-background:var(--p-blue-800);--p-datatable-header-cell-selected-color:white;--p-breadcrumb-background:var(--p-gray-100);--p-menubar-base-item-padding:.5rem .5rem}*,:before,:after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}:root{--primary-color:var(--p-primary-color);--primary-contrast-color:var(--p-primary-contrast-color);--text-color:var(--p-text-color);--text-color-secondary:var(--p-text-muted-color);--surface-border:var(--p-content-border-color);--surface-card:var(--p-content-background);--surface-hover:var(--p-content-hover-background);--surface-overlay:var(--p-overlay-popover-background);--transition-duration:var(--p-transition-duration);--maskbg:var(--p-mask-background);--content-border-radius:var(--p-content-border-radius);--layout-section-transition-duration:.2s;--element-transition-duration:var(--p-transition-duration);--focus-ring-width:var(--p-focus-ring-width);--focus-ring-style:var(--p-focus-ring-style);--focus-ring-color:var(--p-focus-ring-color);--focus-ring-offset:var(--p-focus-ring-offset);--focus-ring-shadow:var(--p-focus-ring-shadow);--surface-ground:var(--p-surface-100);--code-background:var(--p-surface-900);--code-color:var(--p-surface-200)}html{height:100%;font-size:13px}body{font-family:Lato,sans-serif;color:var(--text-color);background-color:var(--surface-ground);margin:0;padding:0;min-height:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.2}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}html{font-size:15px!important}</style><link rel="stylesheet" href="/usager/browser/styles-MV7SQAZB.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="/usager/browser/styles-MV7SQAZB.css"></noscript></head>

<script type="text/javascript">
    // Gestion des URLs 4D vers Angular
    (function() {
        const urlParams = new URLSearchParams(window.location.search);
        const action = urlParams.get('action');
        const login = urlParams.get('login');
        const resetPassword = urlParams.get('resetPassword');
        const cgu = urlParams.get('cgu');

        console.log('PARAMETER:resetPassword', resetPassword);
        console.log('PARAMETER:cgu', cgu);

        if (resetPassword === 'Vrai' && cgu === 'Vrai') {
            const newUrl = '/INT?action=usager-list&login=true&resetPassword=Vrai&cgu=Vrai';
            window.location.href = newUrl;
            return;
        }

        if (resetPassword === 'Vrai') {
            const newUrl = '/INT?action=usager-list&login=true&resetPassword=Vrai';
            window.location.href = newUrl;
            return;
        }

        if (login === 'true') {
            window.history.replaceState({}, document.title, window.location.pathname);
            window.open('/INT?action=transmission', '_blank');
        }

    })();

    // Gestion du loader
    document.addEventListener('DOMContentLoaded', function() {
        // Simuler un temps de chargement minimum pour l'effet visuel
        const minLoadTime = 300; // 0.3 seconde minimum
        const startTime = Date.now();

        function hideLoader() {
            const elapsed = Date.now() - startTime;
            const remainingTime = Math.max(0, minLoadTime - elapsed);

            setTimeout(() => {
                const loader = document.getElementById('initial-loader');
                const appRoot = document.querySelector('app-root');

                if (loader) {
                    loader.classList.add('fade-out');
                    setTimeout(() => {
                        loader.remove();
                    }, 500);
                }

                if (appRoot) {
                    appRoot.classList.add('loaded');
                }
            }, remainingTime);
        }

        // Attendre que Angular soit chargé
        const checkAngularLoaded = setInterval(() => {
            const appRoot = document.querySelector('app-root');
            if (appRoot && appRoot.children.length > 0) {
                clearInterval(checkAngularLoaded);
                hideLoader();
            }
        }, 100);

        // Failsafe : masquer le loader après 10 secondes maximum
        setTimeout(() => {
            clearInterval(checkAngularLoaded);
            hideLoader();
        }, 10000);
    });
</script>

<body>
<!-- Loader initial -->
<div id="initial-loader">
    <div class="loader-container">
        <div class="loader-spinner"></div>
        <div class="loader-text">PAXTEL</div>
        <div class="loader-subtext">
            Chargement en cours<span class="loader-dots"></span>
        </div>
    </div>
</div>
<app-root></app-root>
<link rel="modulepreload" href="/usager/browser/chunk-HU2O7MJI.js"><link rel="modulepreload" href="/usager/browser/chunk-TSRGIXR5.js"><script src="/usager/browser/polyfills-FFHMD2TL.js" type="module"></script><script src="/usager/browser/main-YQMT4OPN.js" type="module"></script></body>
</html>
